<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
    <h2>Rate Compare Tool</h2>
      <table class="table">
        <thead>
        <tr>
            <th  width="1%">
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Year
                        <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2012</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2011</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2010</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2009</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2008</a></li>
                    </ul>
                </div>
            </th>
            <th width="1%"><div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Payers
                    <span class="caret"></span></button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Commercial HMO</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Commercial PPO</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">HIV Special Needs Plans</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Medicaid Managed Care</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Child Health Plus</a></li>
                </ul>
            </div></th>
            <th width=".1%"><div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Measure Description
                    <span class="caret"></span></button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Commercial HMO</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Commercial PPO</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">HIV Special Needs Plans</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Medicaid Managed Care</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Child Health Plus</a></li>
                </ul>
            </div></th>
        </tr>
        </thead>

    </table>
</div>

    <script src="http://d3js.org/d3.v3.js"></script>
    <script>
        d3.csv("https://health.data.ny.gov/resource/vbkk-tipq.csv", function(error, data) {
            var select = d3.select("body")
                    .append("div")
                    .append("select")

            select
                    .on("change", function(d) {
                        var value = d3.select(this).property("value");
                        alert(value);
                    });

            select.selectAll("option")
                    .data(data)
                    .enter()
                    .append("option")
                    .attr("value", function (d) { return d.value; })
                    .text(function (d) { return d['Measure Description']; });
        });
    </script>


</body>
</html>
